##############################################
# üì¶ Source Configuration: Where media files are stored
##############################################


# Whether media directories (audio, video, transcript) are on a remote server.
# If true, the container will mount them via SSHFS.
# If false, local directories defined below will be used directly.

USE_REMOTE_MEDIA=true
 
# Remote server SSH config
REMOTE_HOST=10.0.0.20
REMOTE_SSH_USER=serveradmin
SSH_PRIVATE_KEY_PATH=/keys/id_rsa

# Comma-separated remote directories (if USE_REMOTE_MEDIA=true)

REMOTE_AUDIO_DIRS=/remote/path/to/audios1,/remote/path/to/audios2
REMOTE_VIDEO_DIRS=/remote/path/to/videos1,/remote/path/to/videos2
REMOTE_TRANSCRIPT_DIR=/remote/path/to/text_transcripts

# Local fallback paths (used if USE_REMOTE_MEDIA=false)

AUDIO_DIRS=/local/media/audios1,/local/media/audios2
VIDEO_DIRS=/local/media/videos1,/local/media/videos2
TRANSCRIPT_DIR=/local/media/text_transcripts

##############################################
# üß† Folder Structure Format
##############################################

# Folder paths are dynamically generated using the audio file's modification time.
# These subfolder formats define how output will be structured.
AUDIO_FOLDER_FORMAT=%Y_Audios/%m_%Y_Audios
VIDEO_FOLDER_FORMAT=%Y_Videos/%m_%Y_Videos
TRANSCRIPT_FOLDER_FORMAT=%Y_Text_Transcripts/%m_%Y_Text_Transcripts

# Example: A file from July 2025 will be placed under:
#   /mnt/audios/2025_Audios/07_2025_Audios/
#   /mnt/text_transcripts/2025_Text_Transcripts/07_2025_Text_Transcripts/


##############################################
# ‚öôÔ∏è Processing Behavior
##############################################

# How often to scan the directories for new files (in seconds)
SCAN_INTERVAL=30

# Max number of concurrent conversions (MP4 ‚Üí MP3)
MAX_CONVERT_WORKERS=2

# Max number of concurrent transcriptions (MP3 ‚Üí TXT)
MAX_TRANSCRIBE_WORKERS=2

# Audio encoding settings for FFmpeg
AUDIO_BITRATE=128k

# File suffix added to transcribed output files
TRANSCRIPT_SUFFIX=_transcript.txt

# Extension used to mark files currently being processed
LOCK_EXTENSION=.inprogress


##############################################
# üß† Whisper Model Configuration
##############################################

# Path to Whisper GGUF model inside the container
MODEL_PATH=/models/ggml-model.q4_0.gguf

##############################################
# üåç Language & Transcription Settings
##############################################

# WHISPER_TASK determines language behavior:
#
# 1Ô∏è‚É£ WHISPER_TASK=transcribe
# - Auto-detects spoken language
# - Transcript will be in that same language
# - WHISPER_OUTPUT_LANGUAGE is ignored in this mode
#
# 2Ô∏è‚É£ WHISPER_TASK=translate
# - Auto-detects spoken language
# - Translates and transcribes into target language (must be set below)

WHISPER_TASK=transcribe

# Target transcript language (only used if WHISPER_TASK=translate)
# Example: en, fr, ur, ar
WHISPER_OUTPUT_LANGUAGE=

# ‚ö†Ô∏è WARNING:
# If WHISPER_TASK=transcribe and WHISPER_OUTPUT_LANGUAGE is set,
# the output language will still match the spoken audio ‚Äî not the value below.

##############################################
# üìù Directory Scanning & File Naming Logic
##############################################

# 1. Each VIDEO_DIR is scanned for *.mp4 files
#    - If no corresponding *.mp3 exists in the AUDIO_DIRS structure, it will be created
#
# 2. Each AUDIO_DIR is scanned for *.mp3 files
#    - If no corresponding transcript (*.txt) exists in TRANSCRIPT_DIR, it will be generated
#
# 3. Output folder for each file is determined by file modification timestamp
#    - Example: /mnt/audios/2025_Audios/07_2025_Audios/
#
# 4. Existing folders are reused. Nothing is overwritten or cleared.
#
# 5. File naming logic:
#    - üé• hello_world.mp4 ‚Üí üîà hello_world.mp3
#    - üîà hello_world.mp3 ‚Üí üìù hello_world_transcript.txt


